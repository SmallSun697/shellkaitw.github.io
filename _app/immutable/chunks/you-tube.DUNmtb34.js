import{s as R,o as H,k as z,j as J,b as F,u as L,g as O,d as S,h as V,f as E}from"./scheduler.BWDpjmD3.js";import{S as D,i as M,e as m,c as h,a as y,d as b,u as f,g as k,B as K,o as v,y as N,n as g,F as w,k as q,l as A,m as G,p as U,h as Q}from"./index.Cp4SeObe.js";import{b as p}from"./icon.CBRZcYTv.js";function W(o){let e,t,i;const l=o[5].default,s=F(l,o,o[4],null);return{c(){e=m("div"),s&&s.c()},l(r){e=h(r,"DIV",{});var a=y(e);s&&s.l(a),a.forEach(b)},m(r,a){k(r,e,a),s&&s.m(e,null),i=!0},p(r,a){s&&s.p&&(!i||a&16)&&L(s,l,r,r[4],i?S(l,r[4],a,null):O(r[4]),null)},i(r){i||(g(s,r),r&&V(()=>{i&&(t||(t=w(e,p,{},!0)),t.run(1))}),i=!0)},o(r){v(s,r),r&&(t||(t=w(e,p,{},!1)),t.run(0)),i=!1},d(r){r&&b(e),s&&s.d(r),r&&t&&t.end()}}}function X(o){let e,t,i;const l=o[5].default,s=F(l,o,o[4],null);return{c(){e=m("div"),s&&s.c()},l(r){e=h(r,"DIV",{});var a=y(e);s&&s.l(a),a.forEach(b)},m(r,a){k(r,e,a),s&&s.m(e,null),i=!0},p(r,a){s&&s.p&&(!i||a&16)&&L(s,l,r,r[4],i?S(l,r[4],a,null):O(r[4]),null)},i(r){i||(g(s,r),r&&V(()=>{i&&(t||(t=w(e,p,{},!0)),t.run(1))}),i=!0)},o(r){v(s,r),r&&(t||(t=w(e,p,{},!1)),t.run(0)),i=!1},d(r){r&&b(e),s&&s.d(r),r&&t&&t.end()}}}function Z(o){let e,t,i,l;const s=[X,W],r=[];function a(n,c){return n[0]?0:n[1]?1:-1}return~(t=a(o))&&(i=r[t]=s[t](o)),{c(){e=m("div"),i&&i.c(),this.h()},l(n){e=h(n,"DIV",{"data-testid":!0});var c=y(e);i&&i.l(c),c.forEach(b),this.h()},h(){f(e,"data-testid","general-observer")},m(n,c){k(n,e,c),~t&&r[t].m(e,null),o[6](e),l=!0},p(n,[c]){let _=t;t=a(n),t===_?~t&&r[t].p(n,c):(i&&(K(),v(r[_],1,1,()=>{r[_]=null}),N()),~t?(i=r[t],i?i.p(n,c):(i=r[t]=s[t](n),i.c()),g(i,1),i.m(e,null)):i=null)},i(n){l||(g(i),l=!0)},o(n){v(i),l=!1},d(n){n&&b(e),~t&&r[t].d(),o[6](null)}}}function x(o,e,t){let{$$slots:i={},$$scope:l}=e,{threshold:s=.5}=e,{disable_observer:r=!1}=e,a=r,n,_=typeof IntersectionObserver<"u"&&!r?new IntersectionObserver(d=>{d.forEach(T=>{T.intersectionRatio>=s&&(t(1,a=!0),_.disconnect())})},{rootMargin:"0px",threshold:s}):null;H(()=>{_&&_.observe(n)}),z(()=>{_&&_.disconnect()});function I(d){J[d?"unshift":"push"](()=>{n=d,t(2,n)})}return o.$$set=d=>{"threshold"in d&&t(3,s=d.threshold),"disable_observer"in d&&t(0,r=d.disable_observer),"$$scope"in d&&t(4,l=d.$$scope)},[r,a,n,s,l,i,I]}class Y extends D{constructor(e){super(),M(this,e,x,Z,R,{threshold:3,disable_observer:0})}}function $(o){let e,t,i;return{c(){e=m("iframe"),this.h()},l(l){e=h(l,"IFRAME",{"data-testid":!0,title:!0,class:!0,src:!0,frameborder:!0,allow:!0,style:!0}),y(e).forEach(b),this.h()},h(){f(e,"data-testid","spotify"),f(e,"title",t=`spotify-${o[0]}`),f(e,"class","spotify-sveltekit-embed"),E(e.src,i=`https://open.spotify.com/embed/${o[0]}`)||f(e,"src",i),f(e,"frameborder","0"),f(e,"allow","encrypted-media"),f(e,"style",o[2])},m(l,s){k(l,e,s)},p(l,s){s&1&&t!==(t=`spotify-${l[0]}`)&&f(e,"title",t),s&1&&!E(e.src,i=`https://open.spotify.com/embed/${l[0]}`)&&f(e,"src",i),s&4&&f(e,"style",l[2])},d(l){l&&b(e)}}}function ee(o){let e,t;return e=new Y({props:{disable_observer:o[1],$$slots:{default:[$]},$$scope:{ctx:o}}}),{c(){q(e.$$.fragment)},l(i){A(e.$$.fragment,i)},m(i,l){G(e,i,l),t=!0},p(i,[l]){const s={};l&2&&(s.disable_observer=i[1]),l&37&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){t||(g(e.$$.fragment,i),t=!0)},o(i){v(e.$$.fragment,i),t=!1},d(i){U(e,i)}}}function te(o,e,t){let{spotifyLink:i=""}=e,{width:l="100%"}=e,{height:s="152px"}=e,{disable_observer:r=!1}=e,{iframe_styles:a=`
		border-radius: 0.8rem;
		height: ${s};
		width: ${l};
	`}=e;return o.$$set=n=>{"spotifyLink"in n&&t(0,i=n.spotifyLink),"width"in n&&t(3,l=n.width),"height"in n&&t(4,s=n.height),"disable_observer"in n&&t(1,r=n.disable_observer),"iframe_styles"in n&&t(2,a=n.iframe_styles)},[i,r,a,l,s]}class ue extends D{constructor(e){super(),M(this,e,te,ee,R,{spotifyLink:0,width:3,height:4,disable_observer:1,iframe_styles:2})}}const ie={"1:1":"padding-top: 100%;","16:9":"padding-top: 56.25%;","4:3":"padding-top: 75%;","3:2":"padding-top: 66.66%;","8.5":"padding-top: 62.5%;"},P=o=>ie[o];function se(o){let e,t,i,l,s,r;return{c(){e=m("div"),t=m("iframe"),this.h()},l(a){e=h(a,"DIV",{style:!0});var n=y(e);t=h(n,"IFRAME",{"data-testid":!0,title:!0,src:!0,frameborder:!0,allow:!0,style:!0}),y(t).forEach(b),n.forEach(b),this.h()},h(){f(t,"data-testid","youTube"),f(t,"title",i=`youTube-${o[1].length>0?o[1]:o[0]}`),E(t.src,l=o[5])||f(t,"src",l),f(t,"frameborder","0"),f(t,"allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"),t.allowFullscreen=!0,f(t,"style",s=`
	      position: absolute;
  	    top: 0;
    	  left: 0;
      	width: 100%;
      	height: 100%;
				${o[4]}
    `),f(e,"style",r=`
    	position: relative;
    	width: 100%;
  	  ${P(o[2])}
  `)},m(a,n){k(a,e,n),Q(e,t)},p(a,n){n&3&&i!==(i=`youTube-${a[1].length>0?a[1]:a[0]}`)&&f(t,"title",i),n&16&&s!==(s=`
	      position: absolute;
  	    top: 0;
    	  left: 0;
      	width: 100%;
      	height: 100%;
				${a[4]}
    `)&&f(t,"style",s),n&4&&r!==(r=`
    	position: relative;
    	width: 100%;
  	  ${P(a[2])}
  `)&&f(e,"style",r)},d(a){a&&b(e)}}}function re(o){let e,t;return e=new Y({props:{disable_observer:o[3],$$slots:{default:[se]},$$scope:{ctx:o}}}),{c(){q(e.$$.fragment)},l(i){A(e.$$.fragment,i)},m(i,l){G(e,i,l),t=!0},p(i,[l]){const s={};l&8&&(s.disable_observer=i[3]),l&32791&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){t||(g(e.$$.fragment,i),t=!0)},o(i){v(e.$$.fragment,i),t=!1},d(i){U(e,i)}}}function le(o,e,t){let{youTubeId:i=""}=e,{listId:l=""}=e,{autoPlay:s=!1}=e,{aspectRatio:r="16:9"}=e,{skipTo:a={h:0,m:0,s:0}}=e,{disable_observer:n=!1}=e,{iframe_styles:c=`
		border-radius: 0.6rem;
	`}=e;const{h:_,m:I,s:d}=a,T=_*60*60,j=I*60,B=T+j+d,C=`https://www.youtube-nocookie.com/embed/${i.length>0?`${i}?autoplay=${s}&start=${B}`:`?videoseries?list=${l}`}`;return o.$$set=u=>{"youTubeId"in u&&t(0,i=u.youTubeId),"listId"in u&&t(1,l=u.listId),"autoPlay"in u&&t(6,s=u.autoPlay),"aspectRatio"in u&&t(2,r=u.aspectRatio),"skipTo"in u&&t(7,a=u.skipTo),"disable_observer"in u&&t(3,n=u.disable_observer),"iframe_styles"in u&&t(4,c=u.iframe_styles)},[i,l,r,n,c,C,s,a]}class de extends D{constructor(e){super(),M(this,e,le,re,R,{youTubeId:0,listId:1,autoPlay:6,aspectRatio:2,skipTo:7,disable_observer:3,iframe_styles:4})}}export{Y as G,ue as S,de as Y};
